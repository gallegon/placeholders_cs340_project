
<script src="/deleteFollower.js"></script>

<h5>User profile</h5>
<table>
    <thead> 
        <th>UserID</th> 
        <th>First Name</th> 
        <th>Last Name</th>
    </thead> 
    <tbody>
        {{#each userInfo}} 
        <tr> 
            <td>{{userID}}</td> 
            <td>{{firstName}}</td> 
            <td>{{lastName}}</td>
            {{!-- TODO: add update-user to AJAX onclick request once implemented--}}
            <td><button class="btn btn-outline-update" onclick="">Update</button></td>
        </tr> 
        {{/each}} 
    </tbody> 
</table>
<h3>Following</h3>
<table>
    <thead>
        <th>FollowingID</th>
        <th>First Name</th>
        
        <form id="add-following-form" method="POST" action="/users/add-following/{{#each userInfo}}{{userID}}{{/each}}"></form>
            <label for="followedID">Select a user to follow</label>
            <select class="form-select" id="userID" name="userID" required>
                <option value ="" selected>Follow Account</option>
                {{#each usersInfo}}
                <option value="{{userID}}">{{firstName}} {{lastName}}</option>
                {{/each}}
            </select>
        </form>

        <tbody>
            {{#each following}}
            <tr>
                <td>{{userID}}</td>
                <td>{{firstName}}</td>
                <td><button class="btn btn-outline-danger" onclick="return deleteFollower({{#each ../userInfo}}{{userID}}{{/each}}, {{userID}})">Delete</button></td>
                
            </tr>
            {{/each}}
        </tbody>
    </thead>
</table>
<h3>Followers</h3>
<table>
    <thead>
        <th>FollowerID</th> 
        <th>First Name</th> 
    </thead> 
    <tbody>
        {{#each followers}} 
        <tr> 
            <td>{{userID}}</td> 
            <td>{{firstName}}</td>
            <td><button class="btn btn-outline-danger" onclick="return deleteFollower({{#each ../userInfo}}{{userID}}{{/each}}, {{userID}})">Delete</button></td>
        </tr> 
        {{/each}} 
    </tbody> 
</table>
<h3>Events</h3>
<table>
    <thead>
        <th>Event Name</th> 
        <th>Date and Time</th> 
    </thead> 
    <tbody>
        {{#each userEvents}} 
        <tr> 
            <td>{{eventName}}</td> 
            <td>{{dateTime}}</td>
            {{!--TODO: add AJAX request/route to delete or update an event to the onclick--}}
            <td><button class="btn btn-outline-danger" onclick="">Delete</button></td>
            <td><button class="btn btn-outline-secondary" onclick="">Update</button></td>
        </tr> 
        {{/each}} 
    </tbody> 
</table>
